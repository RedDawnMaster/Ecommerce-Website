<!-- Shop Start -->
<div class="container-fluid">
  <div class="row px-xl-5">
    <!-- Shop Sidebar Start -->
    <div class="col-lg-3 col-md-4">
      <!-- Price Start -->
      <h5
        class="section-title position-relative text-uppercase"
        style="margin-bottom: 32px"
      >
        <span class="text-subordinate pr-3">Filter by price</span>
      </h5>
      <div class="bg-light p-4 mb-30 text-subordinate">
        <form>
          <div
            class="custom-control custom-radio d-flex align-items-center justify-content-between mb-3"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="price"
              id="price-all"
              checked
              [checked]="true"
              (change)="handlePriceSelection('all')"
            />
            <label class="custom-control-label" for="price-all"
              >All Prices</label
            >
            <span class="badge border font-weight-normal text-subordinate">{{
              productsCount
            }}</span>
          </div>
          <div
            class="custom-control custom-radio d-flex align-items-center justify-content-between mb-3"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="price"
              id="price-1"
              (change)="handlePriceSelection('1')"
            />
            <label class="custom-control-label" for="price-1"
              >&le;${{ this.prices[1] }}</label
            >
            <span class="badge border font-weight-normal text-subordinate">{{
              filterPriceCount[0]
            }}</span>
          </div>
          <div
            class="custom-control custom-radio d-flex align-items-center justify-content-between mb-3"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="price"
              id="price-2"
              (change)="handlePriceSelection('2')"
            />
            <label class="custom-control-label" for="price-2"
              >${{ this.prices[1] }} - ${{ this.prices[2] }}</label
            >
            <span class="badge border font-weight-normal text-subordinate">{{
              filterPriceCount[1]
            }}</span>
          </div>
          <div
            class="custom-control custom-radio d-flex align-items-center justify-content-between mb-3"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="price"
              id="price-3"
              (change)="handlePriceSelection('3')"
            />
            <label class="custom-control-label" for="price-3"
              >${{ this.prices[2] }} - ${{ this.prices[3] }}</label
            >
            <span class="badge border font-weight-normal text-subordinate">{{
              filterPriceCount[2]
            }}</span>
          </div>
          <div
            class="custom-control custom-radio d-flex align-items-center justify-content-between mb-3"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="price"
              id="price-4"
              (change)="handlePriceSelection('4')"
            />
            <label class="custom-control-label" for="price-4"
              >${{ this.prices[3] }} - ${{ this.prices[4] }}</label
            >
            <span class="badge border font-weight-normal text-subordinate">{{
              filterPriceCount[3]
            }}</span>
          </div>
          <div
            class="custom-control custom-radio d-flex align-items-center justify-content-between"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="price"
              id="price-5"
              (change)="handlePriceSelection('5')"
            />
            <label class="custom-control-label" for="price-5"
              >${{ this.prices[4] }} - ${{ this.prices[5] }}</label
            >
            <span class="badge border font-weight-normal text-subordinate">{{
              filterPriceCount[4]
            }}</span>
          </div>
          <div
            class="custom-control custom-radio d-flex align-items-center justify-content-between"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="price"
              id="price-6"
              (change)="handlePriceSelection('6')"
            />
            <label class="custom-control-label" for="price-6"
              >&ge;${{ this.prices[5] }}</label
            >
            <span class="badge border font-weight-normal text-subordinate">{{
              filterPriceCount[5]
            }}</span>
          </div>
        </form>
      </div>
      <!-- Price End -->
      <!-- Price Start -->
      <h5
        class="section-title position-relative text-uppercase mt-2"
        style="margin-bottom: 32px"
      >
        <span class="text-subordinate pr-3">Filter by categorie</span>
      </h5>
      <div class="bg-light p-4 mb-30 text-subordinate">
        <form>
          <div
            class="custom-control custom-radio d-flex align-items-center mb-3"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="categorieRadio"
              id="allCategories"
              (change)="handleCategorieSelection('allCategories')"
              checked
            />
            <label
              class="custom-control-label text-uppercase"
              for="allCategories"
              style="margin-left: 75px"
              >All categories</label
            >
          </div>
          <div
            *ngFor="let categorie of categories; let i = index"
            class="custom-control custom-radio d-flex align-items-center justify-content-between mb-3"
          >
            <input
              type="radio"
              class="custom-control-input"
              name="categorieRadio"
              [id]="categorie.label"
              (change)="handleCategorieSelection(categorie.label)"
            />
            <label
              class="custom-control-label text-uppercase"
              [for]="categorie.label"
              style="margin-left: 20px"
              >{{ categorie.label }}</label
            >
            <span class="badge border font-weight-normal text-subordinate">{{
              filterCategorieCount[i]
            }}</span>
          </div>
        </form>
      </div>
      <!-- Price End -->
      <div class="bg-light"></div>
      <div class="bg-light"></div>
    </div>
    <!-- Shop Sidebar End -->
    <!-- Shop Product Start -->
    <div class="col-lg-9 col-md-8">
      <div class="d-flex w-100 justify-content-center mb-3">
        <form class="d-flex mb-1">
          <input
            class="form-control rounded-0 rounded-start"
            style="width: 500px"
            name="search"
            type="search"
            placeholder="Search"
            aria-label="Search"
            [(ngModel)]="searchLabel"
          /><button
            class="border-0 bg-subordinate text-light no-hover-btn-subordinate me-1 rounded-0 rounded-end"
            type="submit"
            (click)="searchProduct()"
          >
            Search
          </button>
          <button
            *ngIf="user !== undefined && user.role === 'ADMIN'"
            class="btn btn-success ms-2"
            type="button"
            routerLink="../products-create"
          >
            Add Product
          </button>
        </form>
      </div>
      <div class="d-flex flex-wrap">
        <!-- product start-->
        <div *ngFor="let product of products" class="col-3 ms-5">
          <div class="product-item bg-light mb-4">
            <div class="product-img position-relative overflow-hidden">
              <img
                class="img-fluid w-100"
                [src]="product.image"
                style="height: 230px; width: 180px"
              />
              <div class="product-action">
                <a
                  *ngIf="user === undefined || user.role !== 'ADMIN'"
                  class="btn btn-outline-dark"
                  (click)="addToWishList(product.label)"
                  ><i class="fa fa-heart"></i
                ></a>
                <a class="btn btn-outline-dark" (click)="viewProduct(product)"
                  ><i class="fa fa-arrows-alt"></i
                ></a>
                <a
                  *ngIf="user !== undefined && user.role === 'ADMIN'"
                  class="btn btn-outline-dark"
                  (click)="editProduct(product)"
                  ><i class="fa fa-pencil-square-o"></i
                ></a>
                <a
                  *ngIf="user !== undefined && user.role === 'ADMIN'"
                  class="btn btn-outline-dark"
                  (click)="deleteProduct(product.label)"
                  ><i class="fa fa-trash"></i
                ></a>
              </div>
            </div>
            <div class="product-details text-center py-4">
              <a
                class="h6 text-decoration-none text-truncate text-dark text-uppercase limitText"
                href=""
                >{{ product.label }}</a
              >
              <div
                class="d-flex align-items-center justify-content-center mt-2"
              >
                <h5 class="text-success">${{ product.price }}</h5>
              </div>
              <div
                class="d-flex align-items-center justify-content-center mb-1"
              >
                <ng-container
                  *ngFor="let _ of getYellowStarsArray(product.stars)"
                >
                  <small class="fa fa-star text-warning me-1"></small>
                </ng-container>
                <ng-container
                  *ngFor="let _ of getEmptyStarsArray(product.stars)"
                >
                  <small class="fa fa-star text-secondary me-1"></small>
                </ng-container>
                <small>({{ product.evaluationCount }})</small>
              </div>
            </div>
          </div>
        </div>
        <!-- product end-->
      </div>
    </div>
    <!-- Shop Product End -->
  </div>
</div>
<!-- Shop End -->
